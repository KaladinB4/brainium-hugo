{{ define "main" }}
  {{ with .Content }}
  <div class="intro">
    {{ . }}
  </div>
  {{ end }}
  {{ $paginator := .Paginate (where .Site.RegularPages "Section" "posts") }}
  <section class="post-feed">
    <h2>Articles</h2>
    <ul class="post-list">
      {{ range $paginator.Pages }}
      <li>
        <span class="post-date">{{ .Date.Format "2006-01-02" }}</span>
        <span class="post-sep">|</span>
        <a class="post-link" href="{{ .RelPermalink }}">{{ .Title }}</a>
        {{ with .Params.description }}<span class="post-desc">{{ . }}</span>{{ end }}
      </li>
      {{ end }}
    </ul>
    {{ if or $paginator.HasPrev $paginator.HasNext }}
    <nav class="pagination" aria-label="Pagination">
      {{ if $paginator.HasPrev }}<a href="{{ $paginator.Prev.URL }}">[prev]</a>{{ else }}<span class="muted">[prev]</span>{{ end }}
      {{ if $paginator.HasNext }}<a href="{{ $paginator.Next.URL }}">[next]</a>{{ else }}<span class="muted">[next]</span>{{ end }}
    </nav>
    {{ end }}
  </section>
{{ end }}
